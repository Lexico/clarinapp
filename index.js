var twit = require('twit');
var config = require('./config.js');
var Twitter = new twit(config);

console.log("App started on " + new Date());

var idList = [
	"1162363466117734401",
	"1162001040406929409",
	"1161638625806880768",
	"1161276254416449536",
	"1160913860565635072",
	"1160551519755915265",
	"1160189077632757762",
	"1159826708394061824",
	"1159464307626823680",
	"1159101941886181377",
	"1158739558051303424",
	"1158377136702611456",
	"1158014742188953603",
	"1157652392885854208",
	"1157289994979094529",
	"1156927625052545025",
	"1156565209424781312",
	"1156202808582004736",
	"1155840441100767233",
	"1155478038265643008",
	"1155115663259779072",
	"1154753296122470401",
	"1154390882294124545",
	"1154028516914225153",
	"1153666118868983811",
	"1153303719217442818",
	"1152941408208216064",
	"1152578929204629504",
	"1152216550541316096",
	"1151854194221076481",
	"1151491768623538177",
	"1151129379537395712",
	"1150767011867320320",
	"1150404600681422848",
	"1150042248995905539",
	"1149679871284699141",
	"1149317481871355904",
	"1148955089849278465",
	"1148592691187474432",
	"1148230296392863744",
	"1147867914210598912",
	"1147505507306885120",
	"1147143117415616512",
	"1146780744800509952",
	"1146418369773654016",
	"1146055973741715456",
	"1145693595510480897",
	"1145331180516122625",
	"1144968789357973505",
	"1144606439660511232",
	"1144244056635125761",
	"1143881657780453376",
	"1143519275350728705",
	"1143156867335622657",
	"1142794450009231360",
	"1142432129705529345",
	"1142069736974540800",
	"1141707321359392775",
	"1141344908806148103",
	"1140982577156825088",
	"1140620159205486593",
	"1140257800494505985",
	"1139895362787913728",
	"1139532991246589952",
	"1139170600809828353",
	"1138808210117275649",
	"1138445808494370816",
	"1138083421597687808",
	"1137721039398608896",
	"1137358637054251009",
	"1136996277261086720",
	"1136633870567133185",
	"1136271486975651840",
	"1135909098107613189",
	"1135546716231483397",
	"1135184331729768448",
	"1134821931897819139",
	"1134459563812511745",
	"1134097156179206144",
	"1133734809396756480",
	"1133372378459836417",
	"1133009980603416583",
	"1132647680369410048",
	"1132285221326458880",
	"1131922820651466752",
	"1131560450066407424",
	"1131198060581851142",
	"1130835674704359424",
	"1130473266454433792",
	"1130110908393508864",
	"1129748497383723010",
	"1129386122713423872",
	"1129023737502814208",
	"1128661327935885313",
	"1128298954892939264",
	"1127936593887678464",
	"1127574192373882882",
	"1127211783591211009",
	"1126849422065848321",
	"1126487009797771264",
	"1126124669139062784",
	"1125762264139796480",
	"1125399853343834117",
	"1125037458742181889",
	"1124675068867567616",
	"1124312716108279808",
	"1123950319472390144",
	"1123587905342115840",
	"1123225524527083522",
	"1122863143540142080",
	"1122500741137096704",
	"1122138352776548352",
	"1121775993532899334",
	"1121413591629012994",
	"1121051189238554624",
	"1120688856389640192",
	"1120326445119700994",
	"1119964038073606144",
	"1119601656172285953",
	"1119239296211390464",
	"1118876878658506754",
	"1118514482173612033",
	"1118152139908485121",
	"1117789714952728576",
	"1117427309588484102",
	"1117064920099631104",
	"1116702547878789122",
	"1116340148894142465",
	"1115977768498601986",
	"1115615381647966208",
	"1115252985251155972",
	"1114890600028016643",
	"1114528216339947520",
	"1114165850951561217",
	"1113803456245116935",
	"1113441057436520448",
	"1113078675015176193",
	"1112716258900877314",
	"1112353873719713794",
	"1111991498264977413",
	"1111629115596128257",
	"1111266728267280385",
	"1110904338346590211",
	"1110541970575900672",
	"1110179561357172738",
	"1109817167070015499",
	"1109454780848660481",
	"1109092381440335874",
	"1108730026181230593",
	"1108367616316448773",
	"1108005266677731329",
	"1107642847619092480",
	"1107280490007089152",
	"1106918085796212736",
	"1106555744017625091",
	"1106193329124007936",
	"1105830929342308353",
	"1105468516453494786",
	"1105106127333801985",
	"1104743759839928327",
	"1104381396490076162",
	"1104018976336678913",
	"1103656638655987712",
	"1103294211271606273",
	"1102931832218288129",
	"1102569426375897088",
	"1102207093367586816",
	"1101844648388112385",
	"1101482333084045312",
	"1101119882463191046",
	"1100757476167901184",
	"1100395151858585600",
	"1100032724025397248",
	"1099670344540016641",
	"1099307917063450624",
	"1098945568955662336",
	"1098583146575159306",
	"1098220796483457026",
	"1097858372911681538",
	"1097496011654729729",
	"1097133635227009025",
	"1096771238549250050",
	"1096408829842124800",
	"1096046464181170176",
	"1095684044044537856",
	"1095321700210753536",
	"1094959271052222464",
	"1094596885329924097",
	"1094234544373460993",
	"1093872127760052224",
	"1093509748761202689",
	"1093147334039556096",
	"1092784938880065536",
	"1092422556634828802",
	"1092060193779838978",
	"1091697770136768512",
	"1091335402332528641",
	"1090973010838855680",
	"1090610629390553088",
	"1090248287846830084",
	"1089885871434858498",
	"1089523479257513985",
	"1089161056952483842",
	"1088798679652290560",
	"1088436294512971781",
	"1088073904730583041",
	"1087711515254448128",
	"1087349129863483392",
	"1086986742819946498",
	"1086624364001415169",
	"1086261972725874690",
	"1085899571954372608",
	"1085537202220814336",
	"1085174793769549825",
	"1084812398886875136",
	"1084450033787985920",
	"1084087635583356929",
	"1083725242302939142",
	"1083362872883929100",
	"1083000476533178369",
	"1082638082036383744",
	"1082275697392005120",
	"1081913321262071808",
	"1081550936542244864",
	"1081188532000079879",
	"1080826148689453058",
	"1080463734227812352",
	"1080101361944051714",
	"1079738976691515395",
	"1079376570505199616",
	"1079014218635067394",
	"1078651860645343232",
	"1078289466131968001",
	"1077927173892329472",
	"1077564803084890113",
	"1077202396940562433",
	"1076840008936493062",
	"1076477611142991872",
	"1076115198166093825",
	"1075752856320466944",
	"1075390417858949122",
	"1075028025157345286",
	"1074665660469428224",
	"1074303254769659904",
	"1073940890094366720",
	"1073578490065285120",
	"1073216106842726400",
	"1072853720646471682",
	"1072491330071420928",
	"1072128971934982144",
	"1071766600863440896",
	"1071404220589506560",
	"1071041778915139585",
	"1070679390739140609",
	"1070316990403919872",
	"1069954597676937216",
	"1069592249057587200",
	"1069229891470716928",
	"1068867435086921733",
	"1068505168847798272",
	"1068142672509132800",
	"1067780280231055362",
	"1067417910774296576",
	"1067055493267505152",
	"1066693132400640002",
	"1066330719746752513",
	"1065968391620562944",
	"1065605971333001216",
	"1065243565947842561",
	"1064881193806700544",
	"1064518812052193286",
	"1064156445825032193",
	"1063794030696439808",
	"1063431643405434880",
	"1063069250351521793",
	"1062706840910381056",
	"1062344461852819456",
	"1061982109852753920",
	"1061619674629226496",
	"1061257327330893824",
	"1060894909950058496",
	"1060532580699832320",
	"1060170179823484928",
	"1059807737033433088",
	"1059445440624709632",
	"1059082960249520133",
	"1058720648107827200",
	"1058358199932411904",
	"1057995815145431041",
	"1057633438038024192",
	"1057271037547683840",
	"1056908670871724032",
	"1056546286747504640",
	"1056183965533519872",
	"1055821505123233792",
	"1055459156373716993",
	"1055096711213916165",
	"1054734397675581441",
	"1054371918764236800",
	"1054009572481028096",
	"1053647178500112384",
	"1053284775363035136",
	"1052922414659751936",
	"1052560022742405121",
	"1052197621996183554",
	"1051835243232153600",
	"1051472864820547585",
	"1051110473918283776",
	"1050748108580249601",
	"1050385654314614786",
	"1050023286208376832",
	"1049660918093795329",
	"1049298488989769729",
	"1048936141871861762",
	"1048573735362547712",
	"1048211400060018689",
	"1047848937166700549",
	"1047486574601146376",
	"1047124203890192385",
	"1046761795635924992",
	"1046399445154320384",
	"1046037028952051712",
	"1045674642290221056",
	"1045312251106865152",
	"1044949874024886273",
	"1044587470694895616",
	"1044225102316023809",
	"1043862684733714432",
	"1043500324122775554",
	"1043137898206449666",
	"1042775533157838849",
	"1042413134689062912",
	"1042050734299197441",
	"1041688362548191233",
	"1041325968659492865",
	"1040963585235738625",
	"1040601187911954434",
	"1040238828940914690",
	"1039876476399771649",
	"1039514029008375808",
	"1039151665142804481",
	"1038789244620365825",
	"1038426895849873408",
	"1038064500346421250",
	"1037702096156590080",
	"1037339761982230528",
	"1036977345050157058",
	"1036614954584104960",
	"1036252535449890817",
	"1035890138902081536",
	"1035527780497281024",
	"1035165441252093953",
	"1034802995194732544",
	"1034440638559936512"
];

var index = idList.length - 1;

fetchTweets();

function fetchTweets() {
	/*
	if(index >= 0) {
	*/
		Twitter.get('statuses/show', { id: idList[index], tweet_mode: 'extended' }, function(err, data, response) {
			var id = idList[index];
			var text = data.full_text.substring(0, data.full_text.lastIndexOf("https") - 1).replace(/\n/g, '\\n');
			var date = data.created_at;
			var imageUrl = (data.entities && data.entities.media && data.entities.media.length) ? data.entities.media[0].media_url : "";
			console.log(id + " | " + imageUrl);
			console.log(text);
			console.log(date);
			console.log("");
			/*
			index--;
			fetchTweets();
			*/
		});
	/*
	} else {
		console.log("Done!");
	}
	*/
}